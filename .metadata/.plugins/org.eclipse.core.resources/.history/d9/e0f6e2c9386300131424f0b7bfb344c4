package xoric.prism.exceptions;

import xoric.prism.data.modules.ErrorCode;

public class PrismException extends Exception
{
	private static final long serialVersionUID = 1L;

	private ErrorCode errorCode;
	private String info;

	public PrismException(ErrorCode errorCode, String info)
	{
		this.errorCode = errorCode;
		this.info = info;
	}

	@Override
	public String toString()
	{
		StringBuffer sb = new StringBuffer();
		listInfo(sb);
		return sb.toString();
	}

	protected void listInfo(StringBuffer sb)
	{
		appendInfo(sb, "module", errorCode.getModuleID().toString());
		appendInfo(sb, "actor", errorCode.getActorID().toString());
		appendInfo(sb, "error", errorCode.getErrorID().toString());
		appendInfo(sb, "info", info);
	}

	protected static void appendInfo(StringBuffer sb, String key, String value)
	{
		if (sb.length() > 0)
			sb.append(", ");
		sb.append(key + "=\"" + value + "\"");
	}
}
