package xoric.prism.develop.li;

import java.io.File;

import xoric.prism.common.Common;
import xoric.prism.data.AttachmentHeader;
import xoric.prism.exceptions.PrismMetaFileException;
import xoric.prism.meta.AttachmentLoader;
import xoric.prism.meta.MetaFile;

public class MetaFilePrinter
{
	private static final String INDENT = "\t";

	private static void printFile(File file)
	{
		MetaFile f = new MetaFile(file);
		f.load();

		System.out.println(file.getName().toString());

		AttachmentLoader a = f.getAttachmentLoader();
		int n = a.getAttachmentCount();
		StringBuffer sb = new StringBuffer();

		for (int i = 0; i < n; ++i)
		{
			AttachmentHeader h = a.get(i);

			sb.append(INDENT);
			sb.append("[" + i + "] ");
			sb.append(h.getName().toString());
			sb.append(" - " + Common.getFileSize(h.getContentSize()));

			if (h.isCompressed())
				sb.append("*");

			System.out.println(sb.toString());
	}
	
	public static main(String[] args) throws PrismMetaFileException
	{

	}
}
