package xoric.prism.scene.shaders;

import java.nio.ByteBuffer;

import xoric.prism.data.exceptions.PrismException;
import xoric.prism.data.global.Prism;
import xoric.prism.data.meta.AttachmentLoader;
import xoric.prism.data.meta.MetaFile;

public class AllShaders
{
	public IShader2 defaultShader;

	public void load(IShaderIO shaderIO)
	{
//		Prism.global.loadMetaFile(fi);
//		defaultShader = loadShader(shaderIO, "");
	}

	private static IShader2 loadShader(IShaderIO shaderIO, String filename) throws PrismException
	{
		MetaFile mf = new MetaFile(Prism.global.getDataPath(), filename);
		mf.load();
		AttachmentLoader al = mf.getAttachmentLoader();
		ByteBuffer vertexBuf = ByteBuffer.wrap(al.loadAttachment(0));
		ByteBuffer fragmentBuf = ByteBuffer.wrap(al.loadAttachment(1));
		IShader2 shader = shaderIO.createShader(vertexBuf, fragmentBuf);

		return shader;
	}
}
