package xoric.prism.creator.custom.control;

import java.util.List;

import xoric.prism.creator.common.view.INewDialogResult;
import xoric.prism.creator.custom.model.ObjectModel;
import xoric.prism.creator.custom.model.SpriteCollectionModel;
import xoric.prism.creator.custom.view.ISpriteCollectionView;
import xoric.prism.data.types.IPath_r;

public class SpriteCollectionControl implements ISpriteCollectionControl
{
	private SpriteCollectionModel model;
	private ISpriteCollectionView view;

	public SpriteCollectionControl(ISpriteCollectionView view)
	{
		this.view = view;
	}

	/* -------------- IMainMenuListener ------------ */

	@Override
	public void requestCreateNewObject(INewDialogResult result)
	{
		model = ModelControl.createNewModel(result);

		if (model != null)
		{
			view.setModel(model);
			view.displayAll();
		}
	}

	@Override
	public void requestOpenObject(IPath_r path)
	{
		model = ModelControl.openModel(path);

		if (model != null)
		{
			view.setModel(model);
			view.displayAll();
		}
	}

	@Override
	public void requestCloseObject()
	{
		// TODO Auto-generated method stub

	}

	@Override
	public void requestExit()
	{
		System.exit(0);
	}

	/* -------------- IObjectControl ------------ */

	@Override
	public void requestAddObject()
	{
		if (model != null)
		{
			ObjectModel m = ObjectControl.addObject();
			model.addObject(m);

			view.displayObjects();
		}
	}

	@Override
	public void requestDeleteObjects(List<Integer> indices)
	{	if (model != null)
	{
		ObjectControl.deleteObject(indices);

		view.displayObjects();}
	}
}
