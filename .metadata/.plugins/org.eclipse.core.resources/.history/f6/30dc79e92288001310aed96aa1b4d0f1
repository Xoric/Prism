package xoric.prism.creator.custom.creators;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;

import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JProgressBar;
import javax.swing.SwingUtilities;

import xoric.prism.swing.PrismFrame;

public class CreatorFrame extends PrismFrame implements ICreatorFrame
{
	private static final long serialVersionUID = 1L;

	private final JLabel actionLabel;
	private final JProgressBar progressBar;

	public CreatorFrame()
	{
		super("Create Texture", 400, 300, false);

		actionLabel = new JLabel();
		progressBar = new JProgressBar();
		progressBar.setMaximum(1000);

		JPanel p = new JPanel(new GridBagLayout());

		Insets insets = new Insets(30, 30, 0, 30);
		GridBagConstraints c = new GridBagConstraints(0, 0, 1, 1, 1.0, 0.5, GridBagConstraints.CENTER, GridBagConstraints.BOTH, insets, 0,
				0);
		p.add(actionLabel, c);

		c.gridy++;
		c.insets = new Insets(15, 30, 30, 30);
		p.add(progressBar, c);

		this.setContentPane(p);
	}

	@Override
	public void setAction(final String action)
	{
		SwingUtilities.invokeLater(new Runnable()
		{
			@Override
			public void run()
			{
				actionLabel.setText(action);
				setProgress(0);
			}
		});
	}

	@Override
	public void setProgress(final float p)
	{
		SwingUtilities.invokeLater(new Runnable()
		{
			@Override
			public void run()
			{
				progressBar.setValue((int) (p * progressBar.getMaximum()));
			}
		});
	}
}
