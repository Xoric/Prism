package xoric.prism.exceptions;

import xoric.prism.data.modules.ErrorCode;

public class PrismException extends Exception
{
	private static final long serialVersionUID = 1L;

	private StringBuffer stringBuffer;
	private ErrorCode errorCode;

	public PrismException(ErrorCode errorCode)
	{
		this.stringBuffer = new StringBuffer();
		this.errorCode = errorCode;

		appendInfo("module", errorCode.getModuleID().toString());
		appendInfo("actor", errorCode.getActorID().toString());
		appendInfo("error", errorCode.getErrorID().toString());
	}
	
	public int getErrorCode()
	{
		return errorCode;
	}

	protected void appendInfo(String key, String value)
	{
		if (stringBuffer.length() > 0)
			stringBuffer.append(", ");

		stringBuffer.append(key + "=\"" + value + "\"");
	}

	@Override
	public String toString()
	{
		return stringBuffer.toString();
	}
}
