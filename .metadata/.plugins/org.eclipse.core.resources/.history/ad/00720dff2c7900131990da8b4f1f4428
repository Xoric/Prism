package xoric.prism.creator.drawer.image;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JCheckBox;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

import xoric.prism.world.entities.ViewAngle;

public class AngleViewDialog implements ActionListener
{
	private static final float F = 1.0f / 3.0f;

	private final Object[] message;
	private final JCheckBox[] directions;

	public AngleViewDialog()
	{
		JPanel p = new JPanel(new GridBagLayout());
		Insets insets = new Insets(5, 5, 5, 5);
		directions = new JCheckBox[8];

		int y = 0;
		directions[y++] = createBox(ViewAngle.TOP_LEFT);
		directions[y++] = createBox(ViewAngle.TOP);
		directions[y++] = createBox(ViewAngle.TOP_RIGHT);
		directions[y++] = createBox(ViewAngle.LEFT);
		directions[y++] = createBox(ViewAngle.RIGHT);
		directions[y++] = createBox(ViewAngle.BOT_LEFT);
		directions[y++] = createBox(ViewAngle.BOT);
		directions[y++] = createBox(ViewAngle.BOT_RIGHT);

		int i = 0;

		for (y = 0; y < 3; ++y)
		{
			for (int x = 0; x < 3; ++x)
			{
				if (y != 1 || x != 1)
				{
					GridBagConstraints c = new GridBagConstraints(x, y, 1, 1, F, F, GridBagConstraints.CENTER, GridBagConstraints.BOTH,
							insets, 0, 0);
					p.add(directions[i], c);
					++i;
				}
			}
		}

		message = new Object[] { null, null, p };
	}

	private JCheckBox createBox(ViewAngle v)
	{
		JCheckBox b = new JCheckBox(v.toString().toLowerCase());
		b.addActionListener(this);
		return b;
	}

	public boolean show()
	{
		int n = JOptionPane.showConfirmDialog(null, message, "New Model", JOptionPane.OK_CANCEL_OPTION);
		return n == JOptionPane.OK_OPTION;
	}

	@Override
	public void actionPerformed(ActionEvent e)
	{
		System.out.println(e.getSource().toString());
	}
}
