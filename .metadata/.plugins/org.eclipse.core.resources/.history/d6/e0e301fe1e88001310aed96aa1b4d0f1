package xoric.prism.creator.custom.creators;

import java.awt.image.BufferedImage;
import java.io.File;
import java.util.ArrayList;
import java.util.List;

import javax.imageio.ImageIO;

import xoric.prism.creator.common.spritelist.control.SpriteNameGenerator;
import xoric.prism.data.exceptions.PrismException;

class ObjectImages
{
	private final List<BufferedImage> images;

	public ObjectImages()
	{
		this.images = new ArrayList<BufferedImage>();
	}

	public void load(SpriteNameGenerator spriteNameGenerator)
	{
		int i = 0;
		boolean resume;

		images.clear();

		do
		{
			File f = spriteNameGenerator.getFile(i);
			resume = f.exists();

			if (resume)
			{
				try
				{
					BufferedImage bi = ImageIO.read(f);
					images.add(bi);
				}
				catch (Exception e0)
				{
					PrismException e = new PrismException(e0);
					e.setText("Image could not be loaded.");
					e.addInfo("image", f.toString());
				}
			}
		}
		while (resume);
	}
}
